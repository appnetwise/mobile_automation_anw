name: Mobile Automation Testing (Android Emulator)

on:
  push:
    branches:
      - master

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v2

      - name: Set up environment variables from .env file
        uses: SpicyPizza/create-envfile@v1
        with:
          envkey_ANDROID_HOME: /opt/android-sdk
          envkey_ANDROID_SDK_ROOT: /opt/android-sdk
          path: .env

      - name: Load Android SDK Environment (from .env file)
        uses: SpicyPizza/load-envfile@v1
        with:
          envfile: .env

      - name: Verify Android SDK Environment
        run: |
          echo "ANDROID_HOME is set to: $ANDROID_HOME"
          echo "ANDROID_SDK_ROOT is set to: $ANDROID_SDK_ROOT"
          echo "PATH is set to: $PATH"
